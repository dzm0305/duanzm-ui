{"remainingRequest":"/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/node_modules/babel-loader/lib/index.js!/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/src/components/Editor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/src/components/Editor/index.vue","mtime":1620714380000},{"path":"/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/duanzhimin/Java/MyWorkspaces/ruoyi-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvZHVhbnpoaW1pbi9KYXZhL015V29ya3NwYWNlcy9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7Cgp2YXIgX3F1aWxsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJxdWlsbCIpKTsKCnJlcXVpcmUoInF1aWxsL2Rpc3QvcXVpbGwuY29yZS5jc3MiKTsKCnJlcXVpcmUoInF1aWxsL2Rpc3QvcXVpbGwuc25vdy5jc3MiKTsKCnJlcXVpcmUoInF1aWxsL2Rpc3QvcXVpbGwuYnViYmxlLmNzcyIpOwoKdmFyIF9hdXRoID0gcmVxdWlyZSgiQC91dGlscy9hdXRoIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogIkVkaXRvciIsCiAgcHJvcHM6IHsKICAgIC8qIOe8lui+keWZqOeahOWGheWuuSAqLwogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKCiAgICAvKiDpq5jluqYgKi8KICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCgogICAgLyog5pyA5bCP6auY5bqmICovCiAgICBtaW5IZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAoKICAgIC8qIOWPquivuyAqLwogICAgcmVhZE9ubHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgLyog5LiK5Lyg5Zyw5Z2AICovCiAgICB1cGxvYWRVcmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyAoMCwgX2F1dGguZ2V0VG9rZW4pKCkKICAgICAgfSwKICAgICAgUXVpbGw6IG51bGwsCiAgICAgIGN1cnJlbnRWYWx1ZTogIiIsCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICB0aGVtZTogInNub3ciLAogICAgICAgIGJvdW5kczogZG9jdW1lbnQuYm9keSwKICAgICAgICBkZWJ1ZzogIndhcm4iLAogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIC8vIOW3peWFt+agj+mFjee9rgogICAgICAgICAgdG9vbGJhcjogW1siYm9sZCIsICJpdGFsaWMiLCAidW5kZXJsaW5lIiwgInN0cmlrZSJdLCAvLyDliqDnspcg5pac5L2TIOS4i+WIkue6vyDliKDpmaTnur8KICAgICAgICAgIFsiYmxvY2txdW90ZSIsICJjb2RlLWJsb2NrIl0sIC8vIOW8leeUqCAg5Luj56CB5Z2XCiAgICAgICAgICBbewogICAgICAgICAgICBsaXN0OiAib3JkZXJlZCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGlzdDogImJ1bGxldCIKICAgICAgICAgIH1dLCAvLyDmnInluo/jgIHml6Dluo/liJfooagKICAgICAgICAgIFt7CiAgICAgICAgICAgIGluZGVudDogIi0xIgogICAgICAgICAgfSwgewogICAgICAgICAgICBpbmRlbnQ6ICIrMSIKICAgICAgICAgIH1dLCAvLyDnvKnov5sKICAgICAgICAgIFt7CiAgICAgICAgICAgIHNpemU6IFsic21hbGwiLCBmYWxzZSwgImxhcmdlIiwgImh1Z2UiXQogICAgICAgICAgfV0sIC8vIOWtl+S9k+Wkp+WwjwogICAgICAgICAgW3sKICAgICAgICAgICAgaGVhZGVyOiBbMSwgMiwgMywgNCwgNSwgNiwgZmFsc2VdCiAgICAgICAgICB9XSwgLy8g5qCH6aKYCiAgICAgICAgICBbewogICAgICAgICAgICBjb2xvcjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogW10KICAgICAgICAgIH1dLCAvLyDlrZfkvZPpopzoibLjgIHlrZfkvZPog4zmma/popzoibIKICAgICAgICAgIFt7CiAgICAgICAgICAgIGFsaWduOiBbXQogICAgICAgICAgfV0sIC8vIOWvuem9kOaWueW8jwogICAgICAgICAgWyJjbGVhbiJdLCAvLyDmuIXpmaTmlofmnKzmoLzlvI8KICAgICAgICAgIFsibGluayIsICJpbWFnZSJdIC8vIOmTvuaOpeOAgeWbvueJhwogICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXlhoXlrrkiLAogICAgICAgIHJlYWRPbmx5OiB0aGlzLnJlYWRPbmx5CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7CiAgICAgIHZhciBzdHlsZSA9IHt9OwoKICAgICAgaWYgKHRoaXMubWluSGVpZ2h0KSB7CiAgICAgICAgc3R5bGUubWluSGVpZ2h0ID0gIiIuY29uY2F0KHRoaXMubWluSGVpZ2h0LCAicHgiKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaGVpZ2h0KSB7CiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gIiIuY29uY2F0KHRoaXMuaGVpZ2h0LCAicHgiKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0eWxlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5jdXJyZW50VmFsdWUpIHsKICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsID09PSBudWxsID8gIiIgOiB2YWw7CgogICAgICAgICAgaWYgKHRoaXMuUXVpbGwpIHsKICAgICAgICAgICAgdGhpcy5RdWlsbC5wYXN0ZUhUTUwodGhpcy5jdXJyZW50VmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5RdWlsbCA9IG51bGw7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGVkaXRvciA9IHRoaXMuJHJlZnMuZWRpdG9yOwogICAgICB0aGlzLlF1aWxsID0gbmV3IF9xdWlsbC5kZWZhdWx0KGVkaXRvciwgdGhpcy5vcHRpb25zKTsgLy8g5aaC5p6c6K6+572u5LqG5LiK5Lyg5Zyw5Z2A5YiZ6Ieq5a6a5LmJ5Zu+54mH5LiK5Lyg5LqL5Lu2CgogICAgICBpZiAodGhpcy51cGxvYWRVcmwpIHsKICAgICAgICB2YXIgdG9vbGJhciA9IHRoaXMuUXVpbGwuZ2V0TW9kdWxlKCJ0b29sYmFyIik7CiAgICAgICAgdG9vbGJhci5hZGRIYW5kbGVyKCJpbWFnZSIsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgX3RoaXMudXBsb2FkVHlwZSA9ICJpbWFnZSI7CgogICAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzLiRyZWZzLnVwbG9hZC4kY2hpbGRyZW5bMF0uJHJlZnMuaW5wdXQuY2xpY2soKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnF1aWxsLmZvcm1hdCgiaW1hZ2UiLCBmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdG9vbGJhci5hZGRIYW5kbGVyKCJ2aWRlbyIsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgX3RoaXMudXBsb2FkVHlwZSA9ICJ2aWRlbyI7CgogICAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzLiRyZWZzLnVwbG9hZC4kY2hpbGRyZW5bMF0uJHJlZnMuaW5wdXQuY2xpY2soKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnF1aWxsLmZvcm1hdCgidmlkZW8iLCBmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuUXVpbGwucGFzdGVIVE1MKHRoaXMuY3VycmVudFZhbHVlKTsKICAgICAgdGhpcy5RdWlsbC5vbigidGV4dC1jaGFuZ2UiLCBmdW5jdGlvbiAoZGVsdGEsIG9sZERlbHRhLCBzb3VyY2UpIHsKICAgICAgICB2YXIgaHRtbCA9IF90aGlzLiRyZWZzLmVkaXRvci5jaGlsZHJlblswXS5pbm5lckhUTUw7CgogICAgICAgIHZhciB0ZXh0ID0gX3RoaXMuUXVpbGwuZ2V0VGV4dCgpOwoKICAgICAgICB2YXIgcXVpbGwgPSBfdGhpcy5RdWlsbDsKICAgICAgICBfdGhpcy5jdXJyZW50VmFsdWUgPSBodG1sOwoKICAgICAgICBfdGhpcy4kZW1pdCgiaW5wdXQiLCBodG1sKTsKCiAgICAgICAgX3RoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHsKICAgICAgICAgIGh0bWw6IGh0bWwsCiAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgcXVpbGw6IHF1aWxsCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLlF1aWxsLm9uKCJ0ZXh0LWNoYW5nZSIsIGZ1bmN0aW9uIChkZWx0YSwgb2xkRGVsdGEsIHNvdXJjZSkgewogICAgICAgIF90aGlzLiRlbWl0KCJvbi10ZXh0LWNoYW5nZSIsIGRlbHRhLCBvbGREZWx0YSwgc291cmNlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuUXVpbGwub24oInNlbGVjdGlvbi1jaGFuZ2UiLCBmdW5jdGlvbiAocmFuZ2UsIG9sZFJhbmdlLCBzb3VyY2UpIHsKICAgICAgICBfdGhpcy4kZW1pdCgib24tc2VsZWN0aW9uLWNoYW5nZSIsIHJhbmdlLCBvbGRSYW5nZSwgc291cmNlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuUXVpbGwub24oImVkaXRvci1jaGFuZ2UiLCBmdW5jdGlvbiAoZXZlbnROYW1lKSB7CiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kZW1pdC5hcHBseShfdGhpcywgWyJvbi1lZGl0b3ItY2hhbmdlIiwgZXZlbnROYW1lXS5jb25jYXQoYXJncykpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWRTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWRTdWNjZXNzKHJlcywgZmlsZSkgewogICAgICAvLyDojrflj5blr4zmlofmnKznu4Tku7blrp7kvosKICAgICAgdmFyIHF1aWxsID0gdGhpcy5RdWlsbDsgLy8g5aaC5p6c5LiK5Lyg5oiQ5YqfCgogICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgLy8g6I635Y+W5YWJ5qCH5omA5Zyo5L2N572uCiAgICAgICAgdmFyIGxlbmd0aCA9IHF1aWxsLmdldFNlbGVjdGlvbigpLmluZGV4OyAvLyDmj5LlhaXlm77niYcgIHJlcy51cmzkuLrmnI3liqHlmajov5Tlm57nmoTlm77niYflnLDlnYAKCiAgICAgICAgcXVpbGwuaW5zZXJ0RW1iZWQobGVuZ3RoLCAiaW1hZ2UiLCByZXMudXJsKTsgLy8g6LCD5pW05YWJ5qCH5Yiw5pyA5ZCOCgogICAgICAgIHF1aWxsLnNldFNlbGVjdGlvbihsZW5ndGggKyAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLlm77niYfmj5LlhaXlpLHotKUiKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVVwbG9hZEVycm9yOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWRFcnJvcigpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Zu+54mH5o+S5YWl5aSx6LSlIik7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-upload\n      :action=\"uploadUrl\"\n      :on-success=\"handleUploadSuccess\"\n      :on-error=\"handleUploadError\"\n      name=\"file\"\n      :show-file-list=\"false\"\n      :headers=\"headers\"\n      style=\"display: none\"\n      ref=\"upload\"\n      v-if=\"this.uploadUrl\"\n    >\n    </el-upload>\n    <div class=\"editor\" ref=\"editor\" :style=\"styles\"></div>\n  </div>\n</template>\n\n<script>\nimport Quill from \"quill\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\nimport { getToken } from \"@/utils/auth\";\n\nexport default {\n  name: \"Editor\",\n  props: {\n    /* 编辑器的内容 */\n    value: {\n      type: String,\n      default: \"\",\n    },\n    /* 高度 */\n    height: {\n      type: Number,\n      default: null,\n    },\n    /* 最小高度 */\n    minHeight: {\n      type: Number,\n      default: null,\n    },\n    /* 只读 */\n    readOnly: {\n      type: Boolean,\n      default: false,\n    },\n    /* 上传地址 */\n    uploadUrl: {\n      type: String,\n      default: \"\",\n    }\n  },\n  data() {\n    return {\n      headers: {\n        Authorization: \"Bearer \" + getToken()\n      },\n      Quill: null,\n      currentValue: \"\",\n      options: {\n        theme: \"snow\",\n        bounds: document.body,\n        debug: \"warn\",\n        modules: {\n          // 工具栏配置\n          toolbar: [\n            [\"bold\", \"italic\", \"underline\", \"strike\"],       // 加粗 斜体 下划线 删除线\n            [\"blockquote\", \"code-block\"],                    // 引用  代码块\n            [{ list: \"ordered\" }, { list: \"bullet\" }],       // 有序、无序列表\n            [{ indent: \"-1\" }, { indent: \"+1\" }],            // 缩进\n            [{ size: [\"small\", false, \"large\", \"huge\"] }],   // 字体大小\n            [{ header: [1, 2, 3, 4, 5, 6, false] }],         // 标题\n            [{ color: [] }, { background: [] }],             // 字体颜色、字体背景颜色\n            [{ align: [] }],                                 // 对齐方式\n            [\"clean\"],                                       // 清除文本格式\n            [\"link\", \"image\"]                                // 链接、图片\n          ],\n        },\n        placeholder: \"请输入内容\",\n        readOnly: this.readOnly,\n      },\n    };\n  },\n  computed: {\n    styles() {\n      let style = {};\n      if (this.minHeight) {\n        style.minHeight = `${this.minHeight}px`;\n      }\n      if (this.height) {\n        style.height = `${this.height}px`;\n      }\n      return style;\n    },\n  },\n  watch: {\n    value: {\n      handler(val) {\n        if (val !== this.currentValue) {\n          this.currentValue = val === null ? \"\" : val;\n          if (this.Quill) {\n            this.Quill.pasteHTML(this.currentValue);\n          }\n        }\n      },\n      immediate: true,\n    },\n  },\n  mounted() {\n    this.init();\n  },\n  beforeDestroy() {\n    this.Quill = null;\n  },\n  methods: {\n    init() {\n      const editor = this.$refs.editor;\n      this.Quill = new Quill(editor, this.options);\n      // 如果设置了上传地址则自定义图片上传事件\n      if (this.uploadUrl) {\n        let toolbar = this.Quill.getModule(\"toolbar\");\n        toolbar.addHandler(\"image\", (value) => {\n          this.uploadType = \"image\";\n          if (value) {\n            this.$refs.upload.$children[0].$refs.input.click();\n          } else {\n            this.quill.format(\"image\", false);\n          }\n        });\n        toolbar.addHandler(\"video\", (value) => {\n          this.uploadType = \"video\";\n          if (value) {\n            this.$refs.upload.$children[0].$refs.input.click();\n          } else {\n            this.quill.format(\"video\", false);\n          }\n        });\n      }\n      this.Quill.pasteHTML(this.currentValue);\n      this.Quill.on(\"text-change\", (delta, oldDelta, source) => {\n        const html = this.$refs.editor.children[0].innerHTML;\n        const text = this.Quill.getText();\n        const quill = this.Quill;\n        this.currentValue = html;\n        this.$emit(\"input\", html);\n        this.$emit(\"on-change\", { html, text, quill });\n      });\n      this.Quill.on(\"text-change\", (delta, oldDelta, source) => {\n        this.$emit(\"on-text-change\", delta, oldDelta, source);\n      });\n      this.Quill.on(\"selection-change\", (range, oldRange, source) => {\n        this.$emit(\"on-selection-change\", range, oldRange, source);\n      });\n      this.Quill.on(\"editor-change\", (eventName, ...args) => {\n        this.$emit(\"on-editor-change\", eventName, ...args);\n      });\n    },\n    handleUploadSuccess(res, file) {\n      // 获取富文本组件实例\n      let quill = this.Quill;\n      // 如果上传成功\n      if (res.code == 200) {\n        // 获取光标所在位置\n        let length = quill.getSelection().index;\n        // 插入图片  res.url为服务器返回的图片地址\n        quill.insertEmbed(length, \"image\", res.url);\n        // 调整光标到最后\n        quill.setSelection(length + 1);\n      } else {\n        this.$message.error(\"图片插入失败\");\n      }\n    },\n    handleUploadError() {\n      this.$message.error(\"图片插入失败\");\n    },\n  },\n};\n</script>\n\n<style>\n.editor, .ql-toolbar {\n  white-space: pre-wrap !important;\n  line-height: normal !important;\n}\n.quill-img {\n  display: none;\n}\n.ql-snow .ql-tooltip[data-mode=\"link\"]::before {\n  content: \"请输入链接地址:\";\n}\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: \"保存\";\n  padding-right: 0px;\n}\n\n.ql-snow .ql-tooltip[data-mode=\"video\"]::before {\n  content: \"请输入视频地址:\";\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: \"14px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"small\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"small\"]::before {\n  content: \"10px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"large\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"large\"]::before {\n  content: \"18px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"huge\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"huge\"]::before {\n  content: \"32px\";\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: \"文本\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  content: \"标题1\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  content: \"标题2\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  content: \"标题3\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  content: \"标题4\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n  content: \"标题5\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n  content: \"标题6\";\n}\n\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: \"标准字体\";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"serif\"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"serif\"]::before {\n  content: \"衬线字体\";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"monospace\"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"monospace\"]::before {\n  content: \"等宽字体\";\n}\n</style>\n"],"sourceRoot":"src/components/Editor"}]}